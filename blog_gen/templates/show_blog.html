<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    {%include 'show_blog.css' %}    
    </style>
</head>

<body style="background: aliceblue; font-family: 'JetBrains Mono', monospace;">
    {% include 'navigation.html' %}
    <div class="blog-header">
        <div class="image">
            <div class="skeleton"></div>
            <img src="{{ source }}images/{{ blog.image }}" alt="Image" loading="lazy"
                style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;">
            </div>
            <div class="blog-title">{{ blog.title|first }}</div>
    </div>

    <div class="blog-body">
        <div class="blog-content">
            {{ blog.content|safe|linebreaks }}
        </div>
    </div>
    <div class="likebutton">
        {% if liked %}
        <button class="button button--secondary button--active" id="likebutton" style="width: 120px;">
        {% else %}
        <button class="button button--secondary" id="likebutton" style="width: 120px;">
        {% endif %}
            <span class="button__text">Love</span><span class="button__icon">
                <span class="heart__particles"><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span><span class="heart__particle"></span></span>
                <svg class="heart heart--stroke" viewBox="0 0 24 24">
                    <path
                        d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z">
                    </path>
                </svg>
                <svg class="heart heart--fill" viewBox="0 0 24 24">
                    <path
                        d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z">
                    </path>
                </svg>
            </span>
        </button>
    </div>

    {% if blog.audio %}
    <div class="playbutton">
        <div class="player" style="position: fixed; top: 56%; left: 91.8%;">
            
            <div id="control-panel" style="width: 120px; height: 260px; background-color: #f3f3f3;" class="control-panel">
                <div class="album-art"></div>
                <div class="controls" style="flex-direction: column; height: 250px; align-items: center;">
                    <div class="prev" style="height: 50px;"></div>
                    <div id="play" style="height: 50px;" class="play"></div>
                    <div class="next" style="height: 50px;"></div>
                </div>
            </div>
        </div>
    </div>
    {% else %}
    <button class="button-30" style="height: 4rem" onclick="createAudio()"><div>Generate</div><div>Audio</div></button>
    <div id="loadingOverlay" style="display: none;">
        <div class="loadingSpinner"></div>
    </div>
    {% endif %}
    {% if message %}
    <div id="messageOverlay">
        <button class="button-30-error" onclick="document.getElementById('messageOverlay').style.display='none'">Error: {{message}}</button>
    </div>
    {% endif %}
<script>
{%include 'show_blog.js'%}
</script>
</body>

</html>